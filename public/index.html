<!DOCTYPE html>
<html lang="en" ng-app="myApp" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" type="text/css" href="./bower_components/bootstrap/dist/css/bootstrap.min.css">
  <title>Hello Sock Puppet</title>
</head>
<body>
  <div class="container">
    <div class="row">
      <h1>Welcome to Sock Puppet</h1>
      
      <button class="btn btn-primary" id="ledBlink">Speak!</button>
      <button class="btn btn-primary" id="ledStop">Sssshhhh...</button>
      <button class="btn btn-primary" id="servoSweep">Wag your sero</button>
      <button class="btn btn-primary" id="servoStop">Stay..</button>
    </div>
    <div id="stream"></div>
  </div>
  
  
  
  <script src="./bower_components/socket.io-client/socket.io.js"></script>
  <script src="./bower_components/jquery/dist/jquery.min.js"></script>
  <script src="./bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
 
<script type="text/javascript">

    var socket = io.connect('/');
    socket.on('connect', function(data) {
      socket.emit('join');
    });
    
    $('#ledBlink').on('click', function(){
      console.log('start led blink');
      socket.emit('led:blink');
    });
    
    $('#ledStop').on('click', function(){
      console.log('stop led blink');
      socket.emit('led:off');
    });
    
    $('#servoSweep').on('click', function(){
      console.log('start servo sweep');
      socket.emit('servo:sweep');
    });
    
    $('#servoStop').on('click', function(){
      console.log('stop servo sweep');
      socket.emit('servo:stop');
    });
    
    socket.on('push', function(data){
      if(data > 700) {
        $('#stream').html('awake');
      } else {
        $('#stream').html('asleep');
      }
    });
 
</script>
</body>
</html>
 